
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Intuitive and performance build system.">
      
      
        <meta name="author" content="Josh Cameron">
      
      
        <link rel="canonical" href="https://joshcameron.github.io/pajama-docs/tutorial/">
      
      
        <link rel="prev" href="../about/">
      
      
        <link rel="next" href="../cli/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Tutorial - Pajama</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
     
	<!-- PostHog -->
	<script>
		!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
		posthog.init(
			'phc_GujJKvXPMnV8tNYAbHsfAcQtQXAJ7mtO2yNI7MdlxSx',
			{
				api_host:'https://us.i.posthog.com', 
				defaults:'2025-05-24',
				person_profiles: 'always',  // or 'identified_only' for logged-in users only
			})
	</script>


  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tutorial" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Pajama" class="md-header__button md-logo" aria-label="Pajama" data-md-component="logo">
      
  <img src="../assets/pajama-pants-white-32x32.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pajama
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tutorial
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Use system preference light/dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Use system preference light/dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Pajama" class="md-nav__button md-logo" aria-label="Pajama" data-md-component="logo">
      
  <img src="../assets/pajama-pants-white-32x32.png" alt="logo">

    </a>
    Pajama
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About Pajama
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#download-and-install-pajama" class="md-nav__link">
    <span class="md-ellipsis">
      Download and Install Pajama
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-the-tutorial-code" class="md-nav__link">
    <span class="md-ellipsis">
      Clone the tutorial code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understand-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      Understand the project
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understand the project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-pajama-project-the-pajama-project-directory" class="md-nav__link">
    <span class="md-ellipsis">
      A Pajama project / The .pajama-project directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pajama-files" class="md-nav__link">
    <span class="md-ellipsis">
      .pajama files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-build-full-build-clean-build" class="md-nav__link">
    <span class="md-ellipsis">
      Initial build / full build / clean build
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#incremental-build" class="md-nav__link">
    <span class="md-ellipsis">
      Incremental build
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">
      Features
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#current-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Current limitations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command line interface
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            User documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-docs/cpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cpp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-docs/clang/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    clang
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-docs/filesystem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    filesystem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-docs/log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    log
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-docs/libtool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    libtool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-docs/settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    settings
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#download-and-install-pajama" class="md-nav__link">
    <span class="md-ellipsis">
      Download and Install Pajama
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-the-tutorial-code" class="md-nav__link">
    <span class="md-ellipsis">
      Clone the tutorial code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understand-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      Understand the project
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understand the project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-pajama-project-the-pajama-project-directory" class="md-nav__link">
    <span class="md-ellipsis">
      A Pajama project / The .pajama-project directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pajama-files" class="md-nav__link">
    <span class="md-ellipsis">
      .pajama files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-build-full-build-clean-build" class="md-nav__link">
    <span class="md-ellipsis">
      Initial build / full build / clean build
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#incremental-build" class="md-nav__link">
    <span class="md-ellipsis">
      Incremental build
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">
      Features
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#current-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Current limitations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="tutorial">Tutorial<a class="headerlink" href="#tutorial" title="Permanent link">&para;</a></h1>
<p>This tutorial walks you through the process of building a simple C++ project using Pajama. The
project introduces several key Pajama features.</p>
<h2 id="download-and-install-pajama">Download and Install Pajama<a class="headerlink" href="#download-and-install-pajama" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The version number shown here will change as new versions of Pajama are released. If you are
reading this to reinstall Pajama, first refresh this page.</p>
</div>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>curl<span class="w"> </span>-LO<span class="w"> </span>https://joshcameron.github.io/pajama-docs/pajama-0.1.20250824204825-py3-none-any.whl
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pajama-0.1.20250824204825-py3-none-any.whl
</span></code></pre></div>
<p>The Pajama Python package contains a command line tool called <code>pajama</code> which is used to build
projects. You can choose to install Pajama in your system Python as shown above, or in a
virtual environment. If you choose to install Pajama in a virtual environment, you will need to
activate the virtual environment before running the <code>pajama</code> command.</p>
<h2 id="clone-the-tutorial-code">Clone the tutorial code<a class="headerlink" href="#clone-the-tutorial-code" title="Permanent link">&para;</a></h2>
<p>An example project is available on GitHub. Clone it to your local machine and follow along with the
documentation below to learn how to use Pajama.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:joshcameron/pajama-tutorial.git
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nb">cd</span><span class="w"> </span>pajama-tutorial
</span></code></pre></div>
<h2 id="understand-the-project">Understand the project<a class="headerlink" href="#understand-the-project" title="Permanent link">&para;</a></h2>
<p>In pajama-tutorial, you will find a simple C++ project containing the following files and
directories:</p>
<div class="language-text highlight"><span class="filename">pajama-tutorial directory tree</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>pajama-tutorial
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>├── .pajama
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>├── .pajama-project
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>│   └── config.toml
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>└── src
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    ├── .pajama
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    ├── a.cpp
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>    ├── a.h
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>    ├── b.cpp
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>    ├── b.h
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>    ├── c.cpp
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>    └── main.cpp
</span></code></pre></div>
<h3 id="a-pajama-project-the-pajama-project-directory">A Pajama project / The .pajama-project directory<a class="headerlink" href="#a-pajama-project-the-pajama-project-directory" title="Permanent link">&para;</a></h3>
<p>The <code>.pajama-project</code> directory identifies the parent directory as the "project directory" -- the
root directory of a Pajama project.</p>
<p>When you use the <code>pajama</code> command at the prompt, the first thing it does is attempt to determine
what Pajama project it is working with. It looks in the current directory and upwards through
the parent directory hierarchy for a <code>.pajama-project</code> subdirectory.</p>
<p>The <code>.pajama-project</code> directory initially contains a <code>config.toml</code> file, which specifies
configuration options for the project. As you work with Pajama, other files may be created in this
directory.</p>
<h3 id="pajama-files">.pajama files<a class="headerlink" href="#pajama-files" title="Permanent link">&para;</a></h3>
<p>Your project directory and the <code>src</code> directory below it both contain <code>.pajama</code> files. These files
describe how to build the project. Each file describes how to build the contents of its directory.</p>
<p><code>.pajama</code> files are Python files. If you already know Python, you are well on your way to writing
Pajama code.</p>
<p>Let's take a look at the <code>.pajama</code> file in the <code>src</code> directory. It looks like this:</p>
<div class="language-python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">src/.pajama</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span>
<span class="normal"><a href="#__codelineno-3-17">17</a></span>
<span class="normal"><a href="#__codelineno-3-18">18</a></span>
<span class="normal"><a href="#__codelineno-3-19">19</a></span>
<span class="normal"><a href="#__codelineno-3-20">20</a></span>
<span class="normal"><a href="#__codelineno-3-21">21</a></span>
<span class="normal"><a href="#__codelineno-3-22">22</a></span>
<span class="normal"><a href="#__codelineno-3-23">23</a></span>
<span class="normal"><a href="#__codelineno-3-24">24</a></span>
<span class="normal"><a href="#__codelineno-3-25">25</a></span>
<span class="normal"><a href="#__codelineno-3-26">26</a></span>
<span class="normal"><a href="#__codelineno-3-27">27</a></span>
<span class="normal"><a href="#__codelineno-3-28">28</a></span>
<span class="normal"><a href="#__codelineno-3-29">29</a></span>
<span class="normal"><a href="#__codelineno-3-30">30</a></span>
<span class="normal"><a href="#__codelineno-3-31">31</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="kn">from</span> <span class="nn">pajama</span> <span class="kn">import</span> <span class="n">cpp</span><span class="p">,</span> <span class="n">libtool</span><span class="p">,</span> <span class="n">settings</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="n">cpp</span><span class="o">.</span><span class="n">select_compiler</span><span class="p">(</span><span class="s1">&#39;clang.cpp.compiler&#39;</span><span class="p">)</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="n">current_src_dir</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;build.current_src_dir&#39;</span><span class="p">)</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="n">settings</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;clang.cpp.flags&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;-I</span><span class="si">{</span><span class="n">current_src_dir</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="n">current_build_dir</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;build.current_build_dir&#39;</span><span class="p">)</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="n">settings</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;clang.cpp.flags&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;-L</span><span class="si">{</span><span class="n">current_build_dir</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9"></a>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="n">a_object</span> <span class="o">=</span> <span class="n">cpp</span><span class="o">.</span><span class="n">compile_to_object</span><span class="p">(</span><span class="s1">&#39;a.cpp&#39;</span><span class="p">)</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="n">b_object</span> <span class="o">=</span> <span class="n">cpp</span><span class="o">.</span><span class="n">compile_to_object</span><span class="p">(</span><span class="s1">&#39;b.cpp&#39;</span><span class="p">,</span> <span class="s1">&#39;b.o&#39;</span><span class="p">)</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12"></a>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="c1"># Set to true if you want to link with a static library instead of a dynamic library.</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="n">want_static_lib</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15"></a>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="n">static_lib</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="n">dynamic_lib</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18"></a>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19"></a><span class="k">if</span> <span class="n">want_static_lib</span><span class="p">:</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20"></a>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21"></a>    <span class="n">static_lib</span> <span class="o">=</span> <span class="n">libtool</span><span class="o">.</span><span class="n">create_library</span><span class="p">([</span><span class="n">a_object</span><span class="p">,</span> <span class="n">b_object</span><span class="p">],</span> <span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22"></a>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24"></a>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25"></a>    <span class="n">dynamic_lib</span> <span class="o">=</span> <span class="n">libtool</span><span class="o">.</span><span class="n">create_library</span><span class="p">([</span><span class="n">a_object</span><span class="p">,</span> <span class="n">b_object</span><span class="p">],</span> <span class="s1">&#39;ab&#39;</span><span class="p">)</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26"></a>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27"></a><span class="c1"># Compile main.cpp and link with the library.</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28"></a><span class="n">executable</span> <span class="o">=</span> <span class="n">cpp</span><span class="o">.</span><span class="n">compile_to_executable</span><span class="p">(</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29"></a>    <span class="s1">&#39;main.cpp&#39;</span><span class="p">,</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30"></a>    <span class="n">static_lib</span><span class="o">=</span><span class="n">static_lib</span><span class="p">,</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31"></a>    <span class="n">dynamic_lib</span><span class="o">=</span><span class="n">dynamic_lib</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<p>Just like a standard Python file, we begin by importing modules we need in the code below.</p>
<p>The <code>cpp</code> module provides functions for selecting a compiler and compiling C++ code. In this file,
we use <code>cpp.select_compiler()</code> to select the <code>clang.cpp.compiler</code> tool. Subsequent calls to the
<code>cpp.compile_to_object()</code> and <code>cpp.compile_to_executable()</code> functions use the <code>clang</code> compiler
to compile the code.</p>
<p>The <code>cpp</code> module is an example of what is called an abstract tool. When a function from the <code>cpp</code>
module is invoked in a <code>.pajama</code> file, the action taken by the function will be performed using the
currently selected concrete tool. There are many possible C++ compilers, of course, and in this
example we select <code>clang.cpp.compiler</code> to perform our C++ compiles. Using the functions provided
by a generic tool like <code>cpp</code> allows us to write code which is agnostic of the actual compiler
being used. This makes it easy to change the compiler used for all or part of the project.</p>
<p>The <code>settings</code> module provides functions for setting and getting build settings.
Settings are used implicitly by the tools they are associated with. For example, the
<code>clang.cpp.flags</code> setting is used by <code>clang.cpp.compiler</code> to set the flags used when compiling C++
code. Settings can also be used explicitly, as shown in this code where we use the
<code>build.current_src_dir</code> and <code>build.current_build_dir</code> settings to set the include and library paths
for the compiler.</p>
<p>The <code>libtool</code> module provides functions for creating static and dynamic libraries. In this file, we
use <code>libtool.create_library()</code> to create a static or dynamic library from the object files. The
decision to create a static or dynamic library is controlled by an ordinary Python if statement and
an ordinary Python variable.</p>
<p>The return values of <code>settings.get()</code>, <code>cpp.compile_to_object()</code>, <code>libtool.create_library()</code> and
<code>cpp.compile_to_executable()</code> are all build artifacts. Artifacts represent entities like files,
directories, and strings used in the build process. Some artifacts are created by actions of the
build process, while others -- such as source files -- exist prior to invoking the build.</p>
<!--
- `.pajama` files do three (?) things: call functions which invoke actions, modify settings, and
  include subdirectories.
- Settings are stored in a stack. If a `.pajama` file includes a subdirectory, when control returns
  from the subdirectory to that `.pajama` file, any settings set in the subdirectory are popped from
  the stack, and the build settings are as they were before the subdirectory was included.
- Settings from a parent directory are inherited by the subdirectory when the parent directory
  `.pajama` file includes the subdirectory.
- A `.pajama` file can include subdirectories (containing `.pajama` files).
-->

<h2 id="initial-build-full-build-clean-build">Initial build / full build / clean build<a class="headerlink" href="#initial-build-full-build-clean-build" title="Permanent link">&para;</a></h2>
<p>To build pajama-tutorial for the first time:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>cd pajama-tutorial
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>pajama build --clean
</span></code></pre></div>
<p>The <code>pajama build --clean</code> command deletes all existing output artifacts (if any) and performs a
<a href="../glossary/#full-build" title="A build which performs all actions in order to produce all output artifacts.">full build</a> -- all actions necessary to build all output artifacts described by the
build's <code>.pajama</code> files.</p>
<p>If ever you want to ensure every output artifact of your project gets rebuilt, you can do so with
<code>pajama build --clean</code>.</p>
<h2 id="incremental-build">Incremental build<a class="headerlink" href="#incremental-build" title="Permanent link">&para;</a></h2>
<p>During your day to day work, you will typically perform an <a href="../glossary/#incremental-build" title="A build which only performs actions whose inputs have changed, or whose outputs have been modified or deleted since the previous build.">incremental
build</a>. This means using Pajama to build only the output artifacts which need
to be built, based on the current state of the project. For example, if you modify <code>main.cpp</code>,
you can run:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>pajama build
</span></code></pre></div>
<p>Pajama will then only rebuild the output artifacts which depend on <code>main.cpp</code>, such as <code>a.out</code>, the
executable created from <code>main.cpp</code>. It will not rebuild the static or dynamic libraries, since
neither <code>a.cpp</code> nor <code>b.cpp</code> have changed.</p>
<p>Pajama infers the dependencies of the build based on how build artifacts are created from other
artifacts. For example, <code>main.cpp</code> is an input artifact to a build action which creates output
artifact <code>a.out</code>. Pajama has also cached information about the actions performed in the previous
build. It knows if <code>main.cpp</code> has not been modified, and the settings relevant to the action which
creates <code>a.out</code> have not changed, then <code>a.out</code> does not need to be created again. In an <a href="../glossary/#incremental-build" title="A build which only performs actions whose inputs have changed, or whose outputs have been modified or deleted since the previous build.">incremental
build</a>, Pajama does only what needs to be done.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When building a project for the first time, a <code>pajama build</code> command is equivalent to a <code>pajama
build --clean</code> command, because none of the output artifacts exist yet.</p>
</div>
<h2 id="features">Features<a class="headerlink" href="#features" title="Permanent link">&para;</a></h2>
<ul>
<li>Library to share code among multiple applications</li>
<li>.cpp to .o</li>
<li>.o to .so (dynamic library)</li>
<li>.o to .a (static library)</li>
<li>executable</li>
<li>full build, then incremental: note that incremental is fast</li>
<li>add .cpp to the build: note that other .cpps don't need to be rebuilt.</li>
</ul>
<h2 id="current-limitations">Current limitations<a class="headerlink" href="#current-limitations" title="Permanent link">&para;</a></h2>
<p>Pajama is currently in a very early alpha state.</p>
<ul>
<li>It is only tested on macOS</li>
<li>The only supported toolset is clang</li>
<li>Esoteric clang flags might not work. Let me know if something you need is not
  supported.</li>
<li>Parallelism is not yet supported.</li>
</ul>
<p>The focus is on demonstrating the key differentiating feature of Pajama: it allows you to work
with the build system in a more intuitive way, because it's so similar to how you would
manually build code from the command line.</p>
<!-- Google Analytics -->
<p><script
    async
    src="https://www.googletagmanager.com/gtag/js?id=G-LQ67DE40ZQ"
></script></p>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-LQ67DE40ZQ');
</script>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Maintained by Pajamanauts.<br><i>v0.1.20250824204825-278deea</i>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>